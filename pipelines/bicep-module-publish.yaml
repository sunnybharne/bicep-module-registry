name: 'Bicep Module Publish Pipeline'
trigger:
  branches:
    include:
      - main
    exclude:
      - test/*
  paths:
    include:
      - modules/*
      - pipelines/bicep-modules-publish.yaml
    exclude:
      - README.md
      - modules/README.md
  tags:
    include:
      - v1*
    exclude:
      - testrelease

pool:
  name: 'selfhosted'

jobs:
  - job: 
    displayName: 'Push Modules'
    steps:
      - task: AzurePowerShell@5
        inputs:
          azureSubscription: 
          ScriptType: 'InlineScript'
          Inline: |
            echo testing
          azurePowerShellVersion: 'Latest'
          pwsh: true
        